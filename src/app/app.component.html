<div class="container">
  <div class="row">
    <div class="col-md">
      <h1>
        PSM-I Assess
      </h1>
      <h5>{{totalPerguntas}} questões (e contando!)</h5>
      <h6>Elaborado por: Danilo Santos e Matheus Pereira</h6>
      <h6>Perguntas incluídas por: Danilo Santos</h6>
    </div>
    <div class="col-md">
      <label for="exampleFormControlSelect1">Qtd Questões</label>
      <select class="form-control" id="exampleFormControlSelect1" (ngModel)="quantidadePerguntas"
        (change)="onChange($event.target.value)">
        <option>20</option>
        <option>40</option>
        <option>90</option>
      </select>
    </div>
  </div>
  <!-- <div class="row mb-5">
    <div class="col-md">
      <div class="card" *ngIf="finalizado">
        <div class="card-body">
          <h1>Você acertou {{this.scoreFinal.toPrecision(2)}}% das questões.</h1>
        </div>
      </div>
    </div>
  </div> -->
  <hr>
  <form class="form" (submit)="calcularRespostas()">
    <div class="row mb-5">
      <div class="col-md">
        <button class="btn btn-info float-right" type="submit">Finalizar</button>
        <button class="btn btn-light float-right mr-2" type="reset">Limpar</button>
      </div>
    </div>
    <div class="row">
      <div class="col-md">
        <div class="card mb-3" *ngFor="let pergunta of perguntas; let i = index">
          <div class="card-header"
            [ngClass]="{'rightAnswer': (finalizado == true && pergunta.resposta === pergunta.correta), 'wrongAnswer': (finalizado == true && pergunta.resposta !== pergunta.correta)  }">
            {{i+1}} - {{pergunta.pergunta}}
          </div>
          <div class="card-body">
            <div class="input-group" *ngFor="let resposta of pergunta.respostas">
              <div class="input-group-prepend mr-2">
                <div class="input-group-radio">
                  <input type="radio" name="{{pergunta.id}}" value="{{resposta}}" [(ngModel)]="pergunta.resposta"
                    (change)="changeFinalizado($event)">
                </div>
              </div>
              {{resposta}}
            </div>
          </div>
          <div class="card-footer">
            <div *ngIf="finalizado">
              <h6>Resposta correta: {{pergunta.correta}}</h6>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-md mb-5">
        <button class="btn btn-info float-right" type="submit">Finalizar</button>
        <button class="btn btn-light float-right mr-2" type="reset">Limpar</button>
      </div>
    </div>
  </form>
  <hr />
  <div class="row mb-5">
    <div class="col-md">
      <div class="card" *ngIf="finalizado">
        <div class="card-body">
          <h1>Você acertou {{this.scoreFinal.toPrecision(2)}}% das questões.</h1>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="divResult">
  <div class="card">
    <div class="card-header">Resumo</div>
    <div class="card-body">
      Total: {{quantidadePerguntas}} <br>
      Respondidas:
      <div *ngIf="finalizado">
        Nota: {{this.scoreFinal.toPrecision(2)}}%.
      </div>
    </div>

  </div>
</div>
